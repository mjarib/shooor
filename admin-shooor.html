<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"><script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body class="bg-slate-900 text-slate-100 font-['Tajawal'] p-8">
    <h1 class="text-3xl font-black mb-12">Ù…Ø±ÙƒØ² Ø¥Ø¯Ø§Ø±Ø© Ø´Ù€Ù€Ù€ÙˆÙˆÙˆØ± ğŸ”’</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
        <section class="bg-slate-800 p-8 rounded-[3rem] border border-slate-700">
            <h2 class="text-xl font-black mb-6 text-orange-400">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø¯</h2>
            <div id="apps" class="space-y-4"></div>
        </section>
        <section class="bg-slate-800 p-8 rounded-[3rem] border border-slate-700">
            <h2 class="text-xl font-black mb-6 text-blue-400">Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h2>
            <div id="stats" class="text-4xl font-black">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
        </section>
    </div>
    <script src="config.js"></script>
    <script>
        db.collection("expert_apps").where("status", "==", "pending").onSnapshot(s => {
            const box = document.getElementById('apps'); box.innerHTML = '';
            s.forEach(d => {
                const data = d.data();
                box.innerHTML += `<div class="bg-slate-700 p-4 rounded-2xl flex justify-between items-center">
                    <div><p class="font-black">${data.name}</p><p class="text-[10px] text-slate-400">${data.exp}</p></div>
                    <button onclick="approve('${d.id}', '${data.name}', '${data.category}')" class="bg-green-500 text-white px-4 py-2 rounded-xl font-bold text-xs">Ø§Ø¹ØªÙ…Ø§Ø¯</button>
                </div>`;
            });
        });
        async function approve(id, name, cat) {
            await db.collection("experts").add({ name, category: cat, bio: "Ø®Ø¨ÙŠØ± Ù…Ø¹ØªÙ…Ø¯ ÙÙŠ Ø´ÙˆØ±Ùˆ", tags: [cat], rating: 5, badges: ["Ù…Ø¹ØªÙ…Ø¯"], isApproved: true, slots: ["08:00 Øµ", "09:00 Øµ", "04:00 Ù…"] });
            await db.collection("expert_apps").doc(id).update({ status: 'approved' });
            alert("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¨ÙŠØ± Ø¢Ù„ÙŠØ§Ù‹");
        }
    </script>
</body>
</html>
