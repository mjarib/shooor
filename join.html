<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>انضم كمجرب | شـــووور</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
</head>
<body class="bg-slate-50 font-['Tajawal'] p-6">
    <div class="max-w-xl mx-auto bg-white p-10 rounded-[3rem] shadow-xl border border-slate-100">
        <h2 class="text-3xl font-black text-blue-900 mb-2">كن جزءاً من شـــووور</h2>
        <p class="text-slate-500 font-bold mb-8 italic text-sm">شارك تجربتك، ألهم غيرك، وحقق دخلاً إضافياً</p>
        
        <form onsubmit="joinExpert(event)" class="space-y-5">
            <div>
                <label class="block text-xs font-black text-blue-900 mb-2 mr-2">الاسم الكامل</label>
                <input type="text" id="name" required class="w-full p-4 bg-slate-50 rounded-2xl border-2 border-transparent focus:border-blue-900 outline-none transition-all">
            </div>
            <div>
                <label class="block text-xs font-black text-blue-900 mb-2 mr-2">رقم الجوال</label>
                <input type="tel" id="phone" placeholder="05xxxxxxxx" required class="w-full p-4 bg-slate-50 rounded-2xl border-2 border-transparent focus:border-blue-900 outline-none transition-all text-left">
            </div>
            <div>
                <label class="block text-xs font-black text-blue-900 mb-2 mr-2">مجال الخبرة</label>
                <select id="cat" class="w-full p-4 bg-slate-50 rounded-2xl border-2 border-transparent focus:border-blue-900 outline-none font-bold">
                    <option value="travel">سفر وسياحة</option>
                    <option value="health">صحة وتجارب طبية</option>
                </select>
            </div>
            <div>
                <label class="block text-xs font-black text-blue-900 mb-2 mr-2">تفاصيل تجربتك (ما يثبت صحة كلامك)</label>
                <textarea id="exp" required class="w-full p-4 bg-slate-50 rounded-2xl border-2 border-transparent focus:border-blue-900 outline-none h-32 resize-none font-bold text-sm"></textarea>
            </div>
            <div>
                <label class="block text-xs font-black text-blue-900 mb-2 mr-2">إرفاق إثبات (صور، وثائق، تذاكر)</label>
                <input type="file" id="files" multiple class="w-full p-4 bg-blue-50 text-blue-900 rounded-2xl border-2 border-dashed border-blue-200 font-bold text-xs">
            </div>
            <button type="submit" class="w-full bg-blue-900 text-white py-5 rounded-[2rem] font-black text-lg shadow-lg hover:bg-orange-500 transition-all">إرسال طلب الانضمام</button>
        </form>
    </div>

    <script src="config.js"></script>
    <script>
        async function joinExpert(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerText = "جاري الإرسال...";
            btn.disabled = true;

            try {
                await db.collection("expert_apps").add({
                    name: document.getElementById('name').value,
                    phone: document.getElementById('phone').value,
                    category: document.getElementById('cat').value,
                    experience: document.getElementById('exp').value,
                    status: 'pending',
                    createdAt: new Date()
                });
                alert("تم استلام طلبك بنجاح! سنقوم بمراجعته واعتمادك قريباً.");
                location.href = 'index.html';
            } catch (err) {
                alert("حدث خطأ، يرجى المحاولة لاحقاً");
                btn.disabled = false;
                btn.innerText = "إرسال طلب الانضمام";
            }
        }
    </script>
</body>
</html>
